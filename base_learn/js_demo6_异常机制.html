<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS异常机制</title>
</head>
<body>

<div>

    <h3>基础语法</h3>

    <p>try {</p>
    <p>... //异常的抛出</p>
    <p>} catch(e) {</p>
    <p>... //异常的捕获与处理</p>
    <p>} finally {</p>
    <p>... //结束处理</p>
    <p>}</p>

    <hr>

    <p>不管输入是否正确，输入框都会再输入后清空。</p>
    <p>请输入 5 ~ 10 之间的数字：</p>

    <input id="demo" type="text">
    <button type="button" onclick="myFunction()">点我</button>

    <p id="p01"></p>
</div>


<script>
    var x = "hello";
    try{
        // var n = x[10];   // 我去  下角标超出 居然不报错 返回undefined
        // var n = Number(x);  //
        // var n = isNaN(x);     //  这个isNaN逻辑 没毛病 isNaN  true 表示 不是数字

        console.log(n)
    }catch (e) {
        console.log('异常 Error:' + e.message);
    }

    function myFunction() {
        var message, x;
        message = document.getElementById("p01");
        message.innerHTML = "";
        x = document.getElementById("demo").value;
        try {

            // throw 抛出异常
            if(x == "") throw "值是空的";
            if(isNaN(x)) throw "值不是一个数字";
            x = Number(x);

            // debugger 断点调试 可以直接chrome浏览器打断点调试

            if(x > 10) throw "太大";
            if(x < 5) throw "太小";

            if(x>5 && x<10){
                message.innerHTML = "输入正确!";
            }
        }
        catch(err) {
            message.innerHTML = "错误: " + err + ".";
        }
        finally {
            document.getElementById("demo").value = "";
        }
    }

</script>
</body>
</html>